(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{235:(e,s,a)=>{"use strict";a.d(s,{J:()=>i});var t=a(5155);a(2115);var r=a(489),n=a(5016);function i(e){let{className:s,...a}=e;return(0,t.jsx)(r.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...a})}},1908:(e,s,a)=>{Promise.resolve().then(a.bind(a,2383))},2383:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>N});var t=a(5155),r=a(2115),n=a(5419),i=a(63),l=a(3209),d=a(7003),o=a(6170),c=a(235),x=a(6645),m=a(5917),u=a(5016);function h(e){let{className:s,...a}=e;return(0,t.jsx)(x.bL,{"data-slot":"checkbox",className:(0,u.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:(0,t.jsx)(x.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(m.A,{className:"size-3.5"})})})}var p=a(5740),g=a(1524),b=a(6154),f=a(2987),v=a(5626),j=a(1362);function N(){let{user:e,isLoaded:s}=(0,n.Jd)(),a=(0,i.useRouter)(),[x,m]=(0,r.useState)("welcome"),[u,N]=(0,r.useState)({businessName:"",arn:"",advisorCode:""}),[y,A]=(0,r.useState)([]),[w,k]=(0,r.useState)(""),[C,F]=(0,r.useState)(["","","","","",""]),[D,S]=(0,r.useState)(!1),[W,B]=(0,r.useState)(""),[T,O]=(0,r.useState)(""),[P,z]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{var t;s&&!e&&a.push("/sign-in"),s&&e&&(null==(t=e.unsafeMetadata)?void 0:t.onboardingCompleted)&&a.push("/dashboard")},[s,e,a]),!s||!e)return(0,t.jsx)("div",{className:"min-h-screen bg-[#0A0A0A] flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#D4AF37]"})});let $=async()=>{if(B(""),!w||10!==w.length)return void B("Please enter a valid 10-digit phone number");z(!0);try{let e=await fetch("/api/auth/send-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:"+91".concat(w)})});if(!e.ok){let s=await e.json();throw Error(s.error||"Failed to send OTP")}S(!0)}catch(e){B(e.message||"Failed to send OTP. Please try again.")}finally{z(!1)}},E=async()=>{O("");let s=C.join("");if(6!==s.length)return void O("Please enter all 6 digits");z(!0);try{let a=await fetch("/api/auth/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:"+91".concat(w),otp:s})});if(!a.ok){let e=await a.json();throw Error(e.error||"Invalid OTP")}await e.update({unsafeMetadata:{...e.unsafeMetadata,phone:"+91".concat(w),phoneVerified:!0,businessName:u.businessName||void 0,arn:u.arn||void 0,advisorCode:u.advisorCode||void 0,customerSegments:y,onboardingCompleted:!0,onboardingCompletedAt:new Date().toISOString()}}),m("confirmation")}catch(e){O(e.message||"Failed to verify OTP. Please try again.")}finally{z(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-[#0A0A0A] flex items-center justify-center p-6",children:(0,t.jsxs)("div",{className:"w-full max-w-2xl",children:["welcome"===x&&(0,t.jsxs)(l.Zp,{className:"bg-white border-0 shadow-xl",children:[(0,t.jsxs)(l.aR,{className:"text-center space-y-4 pb-6",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-[#D4AF37] to-[#FFD700] rounded-full flex items-center justify-center",children:(0,t.jsx)(p.A,{className:"w-12 h-12 text-[#0A0A0A]"})})}),(0,t.jsxs)(l.ZB,{className:"text-3xl font-bold text-gray-900",children:["Welcome to JarvisDaily, ",e.firstName,"! \uD83C\uDF89"]}),(0,t.jsx)(l.BT,{className:"text-lg text-gray-600",children:"Let's get you set up in 2 minutes"})]}),(0,t.jsxs)(l.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#D4AF37]/10 to-[#FFD700]/10 rounded-lg p-6 space-y-4",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"What you'll get:"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(g.A,{className:"w-6 h-6 text-[#D4AF37] flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Save 15 Hours/Week"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"No more struggling with content creation"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(p.A,{className:"w-6 h-6 text-[#D4AF37] flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Grammy-Level Content (9.0+ Virality)"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"LinkedIn posts + WhatsApp messages + Status images"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(b.A,{className:"w-6 h-6 text-[#D4AF37] flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Instant Daily Delivery"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Content delivered to WhatsApp every morning at 9 AM"})]})]})]})]}),(0,t.jsxs)(d.$,{onClick:()=>m("business"),className:"w-full bg-[#D4AF37] hover:bg-[#C4A027] text-[#0A0A0A] font-semibold h-12",children:["Continue to Setup ",(0,t.jsx)(f.A,{className:"ml-2 w-5 h-5"})]})]})]}),"business"===x&&(0,t.jsxs)(l.Zp,{className:"bg-white border-0 shadow-xl",children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{className:"text-2xl font-bold text-gray-900",children:"Tell us about your practice"}),(0,t.jsx)(l.BT,{className:"text-gray-600",children:"This helps us personalize your content (all fields optional)"})]}),(0,t.jsxs)(l.Wu,{className:"space-y-5",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.J,{htmlFor:"businessName",className:"text-gray-900",children:"Business Name (Optional)"}),(0,t.jsx)(o.p,{id:"businessName",type:"text",placeholder:"e.g., Sharma Financial Services",value:u.businessName,onChange:e=>N({...u,businessName:e.target.value})}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Appears on your branded content"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.J,{htmlFor:"arn",className:"text-gray-900",children:"ARN - Advisor Registration Number (Optional)"}),(0,t.jsx)(o.p,{id:"arn",type:"text",placeholder:"e.g., ARN-12345",value:u.arn,onChange:e=>N({...u,arn:e.target.value})}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"For SEBI compliance on mutual fund content"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.J,{htmlFor:"advisorCode",className:"text-gray-900",children:"Advisor Code (Optional)"}),(0,t.jsx)(o.p,{id:"advisorCode",type:"text",placeholder:"e.g., ADV-789",value:u.advisorCode,onChange:e=>N({...u,advisorCode:e.target.value})}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Your unique advisor identifier"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsxs)(d.$,{variant:"outline",onClick:()=>m("welcome"),className:"flex-1",children:[(0,t.jsx)(v.A,{className:"mr-2 w-5 h-5"})," Back"]}),(0,t.jsxs)(d.$,{onClick:()=>m("segmentation"),className:"flex-1 bg-[#D4AF37] hover:bg-[#C4A027] text-[#0A0A0A] font-semibold",children:["Continue ",(0,t.jsx)(f.A,{className:"ml-2 w-5 h-5"})]})]})]})]}),"segmentation"===x&&(0,t.jsxs)(l.Zp,{className:"bg-white border-0 shadow-xl",children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{className:"text-2xl font-bold text-gray-900",children:"Who do you serve?"}),(0,t.jsx)(l.BT,{className:"text-gray-600",children:"Select all that apply - this personalizes your content tone and topics"})]}),(0,t.jsxs)(l.Wu,{className:"space-y-5",children:[(0,t.jsx)("div",{className:"space-y-3",children:[{id:"hni",label:"HNI (High Net Worth)"},{id:"salaried",label:"Salaried Professionals"},{id:"business",label:"Business Owners"},{id:"retirees",label:"Retirees"},{id:"young",label:"Young Investors (20-35)"}].map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(h,{id:e.id,checked:y.includes(e.id),onCheckedChange:()=>{var s;return s=e.id,void A(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s])}}),(0,t.jsx)("label",{htmlFor:e.id,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:e.label})]},e.id))}),0===y.length&&(0,t.jsx)("p",{className:"text-sm text-gray-500 bg-gray-50 p-3 rounded-md",children:"\uD83D\uDCA1 Tip: Select at least one segment for better personalization"}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsxs)(d.$,{variant:"outline",onClick:()=>m("business"),className:"flex-1",children:[(0,t.jsx)(v.A,{className:"mr-2 w-5 h-5"})," Back"]}),(0,t.jsxs)(d.$,{onClick:()=>m("phone"),className:"flex-1 bg-[#D4AF37] hover:bg-[#C4A027] text-[#0A0A0A] font-semibold",children:["Continue ",(0,t.jsx)(f.A,{className:"ml-2 w-5 h-5"})]})]})]})]}),"phone"===x&&(0,t.jsxs)(l.Zp,{className:"bg-white border-0 shadow-xl",children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{className:"text-2xl font-bold text-gray-900",children:"\uD83D\uDCF1 Verify your WhatsApp number"}),(0,t.jsx)(l.BT,{className:"text-gray-600",children:"We'll deliver your daily content to this number"})]}),(0,t.jsxs)(l.Wu,{className:"space-y-5",children:[(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("p",{className:"text-sm text-blue-900",children:[(0,t.jsx)("strong",{children:"Why WhatsApp?"})," Instant delivery, 98% open rate, no email spam folders"]})}),D?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.J,{className:"text-gray-900",children:"Enter 6-digit OTP"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Sent to +91",w]}),(0,t.jsx)("div",{className:"flex justify-center gap-2",children:C.map((e,s)=>(0,t.jsx)(o.p,{id:"otp-".concat(s),type:"text",inputMode:"numeric",maxLength:1,value:e,onChange:e=>((e,s)=>{if(!/^\d*$/.test(s))return;let a=[...C];if(a[e]=s.slice(-1),F(a),O(""),s&&e<5){let s=document.getElementById("otp-".concat(e+1));null==s||s.focus()}})(s,e.target.value),className:"w-12 h-14 text-center text-2xl font-semibold"},s))}),T&&(0,t.jsx)("p",{className:"text-[#EF4444] text-sm text-center",children:T})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsx)(d.$,{onClick:E,disabled:P,className:"w-full bg-[#D4AF37] hover:bg-[#C4A027] text-[#0A0A0A] font-semibold",children:P?"Verifying...":"Verify & Start Trial"}),(0,t.jsx)("button",{type:"button",onClick:()=>{S(!1),F(["","","","","",""]),O("")},className:"text-sm text-[#3B82F6] hover:underline",children:"Change number"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.J,{htmlFor:"phone",className:"text-gray-900",children:"WhatsApp Number"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"flex items-center px-3 bg-gray-100 border border-gray-300 rounded-md",children:(0,t.jsx)("span",{className:"text-gray-700 font-medium",children:"+91"})}),(0,t.jsx)(o.p,{id:"phone",type:"tel",placeholder:"9876543210",value:w,onChange:e=>k(e.target.value.replace(/\D/g,"")),maxLength:10,className:"flex-1"})]}),W&&(0,t.jsx)("p",{className:"text-[#EF4444] text-sm",children:W})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(d.$,{variant:"outline",onClick:()=>m("segmentation"),className:"flex-1",children:[(0,t.jsx)(v.A,{className:"mr-2 w-5 h-5"})," Back"]}),(0,t.jsx)(d.$,{onClick:$,disabled:P,className:"flex-1 bg-[#D4AF37] hover:bg-[#C4A027] text-[#0A0A0A] font-semibold",children:P?"Sending...":"Send OTP"})]})]})]})]}),"confirmation"===x&&(0,t.jsx)(l.Zp,{className:"bg-white border-0 shadow-xl",children:(0,t.jsxs)(l.Wu,{className:"pt-12 pb-12 text-center space-y-6",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("div",{className:"w-20 h-20 bg-[#10B981] rounded-full flex items-center justify-center",children:(0,t.jsx)(j.A,{className:"w-12 h-12 text-white"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"You're all set! \uD83C\uDF89"}),(0,t.jsx)("p",{className:"text-lg text-gray-600",children:"Your free 14-day trial starts now"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 space-y-3 text-left",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:"What happens next:"}),(0,t.jsxs)("ul",{className:"space-y-2 text-sm text-gray-700",children:[(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-[#D4AF37] font-bold",children:"1."}),(0,t.jsx)("span",{children:"Daily content generation starts tomorrow 9 AM"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-[#D4AF37] font-bold",children:"2."}),(0,t.jsx)("span",{children:"Receive LinkedIn post + WhatsApp message + Status image"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-[#D4AF37] font-bold",children:"3."}),(0,t.jsx)("span",{children:"No payment required for 14 days"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-[#D4AF37] font-bold",children:"4."}),(0,t.jsx)("span",{children:"Cancel anytime - no questions asked"})]})]})]}),(0,t.jsxs)(d.$,{onClick:()=>a.push("/dashboard"),className:"w-full bg-[#D4AF37] hover:bg-[#C4A027] text-[#0A0A0A] font-semibold h-12 text-lg",children:["Go to Dashboard ",(0,t.jsx)(f.A,{className:"ml-2 w-5 h-5"})]})]})}),"welcome"!==x&&"confirmation"!==x&&(0,t.jsxs)("div",{className:"mt-4 flex justify-center gap-2",children:[(0,t.jsx)("div",{className:"h-2 w-16 rounded-full ".concat("business"===x?"bg-[#D4AF37]":"bg-gray-300")}),(0,t.jsx)("div",{className:"h-2 w-16 rounded-full ".concat("segmentation"===x?"bg-[#D4AF37]":"bg-gray-300")}),(0,t.jsx)("div",{className:"h-2 w-16 rounded-full ".concat("phone"===x?"bg-[#D4AF37]":"bg-gray-300")})]})]})})}},3209:(e,s,a)=>{"use strict";a.d(s,{BT:()=>d,Wu:()=>o,ZB:()=>l,Zp:()=>n,aR:()=>i});var t=a(5155);a(2115);var r=a(5016);function n(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...a})}function i(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...a})}function l(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",s),...a})}function d(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",s),...a})}function o(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",s),...a})}},5016:(e,s,a)=>{"use strict";a.d(s,{cn:()=>n});var t=a(2821),r=a(5889);function n(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,r.QP)((0,t.$)(s))}},6170:(e,s,a)=>{"use strict";a.d(s,{p:()=>n});var t=a(5155);a(2115);var r=a(5016);function n(e){let{className:s,type:a,...n}=e;return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...n})}},7003:(e,s,a)=>{"use strict";a.d(s,{$:()=>d});var t=a(5155);a(2115);var r=a(2467),n=a(3101),i=a(5016);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:s,variant:a,size:n,asChild:d=!1,...o}=e,c=d?r.DX:"button";return(0,t.jsx)(c,{"data-slot":"button",className:(0,i.cn)(l({variant:a,size:n,className:s})),...o})}}},e=>{e.O(0,[707,419,499,441,255,358],()=>e(e.s=1908)),_N_E=e.O()}]);